generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgresql"
  // url          = env("DATABASE_URL")
  url          = "postgresql://dev:dev@localhost:5432/tags"
  // url          = "mysql://dzfxrx2zcaxye0kf9zz6:pscale_pw_OMRFFfxGwimoURFYPqC40NJp4CKR3oQeNJ7csa5Dio6@aws.connect.psdb.cloud/tags?sslaccept=strict"
  relationMode = "prisma"
}

enum USERTYPE {
  GUEST
  PRO
}

model user {
  id            String   @id @unique @default(uuid())
  name          String
  avatar        String
  email         String?
  accountNumber Int?
  type          USERTYPE
  // createdTags   tag[]    @relation("created")
  // usedTags      tag[]    @relation("used")

  @@unique([id, name])
}

enum TAGSTYPE {
  COMMUNITY
  ORIGINAL
}

enum BGSTYLE {
  SOLID
  GRADIENT
  IMAGE
}

model tag {
  id         Int      @id @unique @default(autoincrement())
  type       TAGSTYPE @default(COMMUNITY)
  downloads  Int      @default(0)
  bank       String   @default("bankak")
  account    String   @default("247365")
  name       String   @default("Your Name")
  branch     String   @default("Branch")
  phone      String   @default("249xxxxxxxxx")
  bg         String
  bankRadius String   @default("999")
  tagRadius  String   @default("0")
  color      String   @default("white")
  font       String   @default("open sans")
  icons      Boolean  @default(false)
  barcode    Boolean  @default(false)
  bgStyle    BGSTYLE  @default(SOLID)

  @@unique([bg, bank])
}
