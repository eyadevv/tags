generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum USERTYPE {
  GUEST
  PRO
}

model user {
  id            String   @id @unique @default(uuid())
  name          String
  avatar        String
  email         String?
  accountNumber Int?
  type          USERTYPE
  // createdTags   tag[]    @relation("created")
  // usedTags      tag[]    @relation("used")

  @@unique([id, name])
}

enum TAGSTYPE {
  FREE
  PREMIUM
  PAID
}

enum BGSTYLE {
  SOLID
  GRADIENT
  IMAGE
}

model tag {
  id         Int      @id @unique @default(autoincrement())
  type       TAGSTYPE @default(FREE)
  bank       String   @default("bankak")
  account    String   @default("247365")
  name       String   @default("Your Name")
  phone      String   @default("249xxxxxxxxx")
  bg         String   @default("black")
  bankRadius String   @default("999")
  tagRadius  String   @default("0")
  text       String   @default("white")
  font       String   @default("open sans")
  icons      Boolean  @default(false)
  barcode    Boolean  @default(false)
  bgStyle    BGSTYLE  @default(SOLID)
  // user        user?    @relation(fields: [userId], references: [id], "created")
  // userId      String?
  // creator     user?    @relation(fields: [creatorId, creatorName], references: [id, name], "used")
  // creatorId   String?
  // creatorName String   @default("ORIGINAL")

  // @@index([creatorId, creatorName])
  // @@index([userId])
  @@unique([bg, bank])
}
